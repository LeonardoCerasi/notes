% page layout
\usepackage[left=15mm, right=15mm, top=25mm]{geometry}
\geometry{a4paper}

% images
\usepackage{graphicx}

% headers and foooters
\usepackage{fancyhdr}
\setlength{\headheight}{15pt}

% part name
\let\Oldpart\part
\newcommand{\parttitle}{}
\renewcommand{\part}[1]{\Oldpart{#1}\renewcommand{\parttitle}{#1}}

% no random page numbers
\fancypagestyle{plain}{%
  \fancyhf{}                          % clear all header and footer fields
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0pt}
}

% custom headers and footers
\renewcommand{\chaptermark}[1]{\markboth{#1}{#1}}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}

\fancypagestyle{body}{%
  \fancyhead[LE,RO]{\thepage}%
  \fancyhead[LO]{\chaptername\ \thechapter:\ \leftmark}%
  \fancyhead[RE]{\partname\ \thepart:\ \parttitle}%
}

% special header for Introduzione
\fancypagestyle{introd}{%
  \fancyhead[LE,RO]{\thepage}%
  \fancyhead[RE,LO]{\leftmark}%
}

% special header for Indice
\fancypagestyle{indice}{%
  \fancyhead[LE,RO]{\thepage}%
  \fancyhead[RE,LO]{Indice}%
}

% special header for Contents
\fancypagestyle{contents}{%
  \fancyhead[LE,RO]{\thepage}%
  \fancyhead[RE,LO]{Contents}%
}

% no blank pages
\let\cleardoublepage\clearpage
% removes indentation
\setlength{\parindent}{0pt}
% add subsubsection numbering
\setcounter{secnumdepth}{3}

% math
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{tensor}

% physics
\usepackage{braket}

% chemistry
\usepackage{chemformula}

% custom environments
\newtheoremstyle{theorem}{}{}{\slshape}{}{\bfseries}{.}{ }{}

\theoremstyle{definition}
\newtheorem{definition}{Definizione}[section]

\theoremstyle{theorem}
\newtheorem{theorem}{Teorema}[section]

\theoremstyle{theorem}
\newtheorem{corollary}{Corollario}[theorem]

\theoremstyle{theorem}
\newtheorem{lemma}{Lemma}[section]

\theoremstyle{theorem}
\newtheorem{lemcorollary}{Corollario}[lemma]

\theoremstyle{theorem}
\newtheorem{proposition}{Proposizione}[section]

\theoremstyle{theorem}
\newtheorem{propcorollary}{Corollario}[proposition]

\theoremstyle{remark}
\newtheorem{example}{Esempio}[section]

% sectioning
\usepackage{titlesec}

% hyper-references
\usepackage{hyperref}

% extended integral symbols
\usepackage{esint}

% add table of contents, index and bibliography to table of contents
\usepackage{tocbibind}

% text
\newcommand{\virgolette}[1]{``\text{#1}"}
\newcommand{\tildetext}{\raise.17ex\hbox{$\scriptstyle\mathtt{\sim}$}}

% greek
\newcommand{\Chi}{\mathrm{X}}

% custom math symbols
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\sgn}[1]{\mathrm{sgn}\,#1}
\newcommand{\pa}{\partial}
\newcommand{\tens}[1]{\mathbf{\text{#1}}}
\newcommand{\defeq}{\mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}%
                     =}
\newcommand{\eqdef}{=%
                     \mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}}
\newcommand{\ve}[1]{\mathbf{#1}}
\newcommand{\lap}{\nabla^2}
\newcommand{\hilb}{\mathscr{H}}
\DeclareMathOperator{\diag}{diag}
\newcommand{\sqg}{\sqrt{\tens{g}}}
\newcommand{\cm}{\mathcal{C}^{\infty}(\mathcal{M})}
\DeclareMathOperator{\lspan}{span}
\newcommand{\xm}{\mathfrak{X}(\mathcal{M})}
\DeclareMathOperator{\id}{id}
\newcommand{\ld}{\mathcal{L}}
\newcommand{\lm}[1]{\Lambda^{#1}(\mathcal{M})}
\DeclareMathOperator{\ran}{ran}
\DeclareMathOperator{\tr}{tr}

% functions
\DeclareMathOperator{\sech}{sech}

% number sets
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\K}{\mathbb{K}}

% groups
\newcommand{\Ot}{\mathrm{O}(3)}
\newcommand{\SOt}{\mathrm{SO}(3)}
\newcommand{\On}[1]{\mathrm{O}(#1)}
\newcommand{\SOn}[1]{\mathrm{SO}(#1)}
\newcommand{\Un}[1]{\mathrm{U}(#1)}
\newcommand{\SUn}[1]{\mathrm{SU}(#1)}
\newcommand{\GL}[2]{\mathrm{GL}(#1,#2)}
\newcommand{\SL}[2]{\mathrm{SL}(#1,#2)}

% units of measure
\newcommand{\m}{\,\mathrm{m}}
\newcommand{\ang}{\,\mathrm{\AA}}
\newcommand{\fm}{\,\mathrm{fm}}

\newcommand{\barn}{\,\mathrm{barn}}

\newcommand{\cels}{\,^{\circ}\mathrm{C}}

\newcommand{\ev}{\,\mathrm{eV}}
\newcommand{\kev}{\,\mathrm{keV}}
\newcommand{\mev}{\,\mathrm{MeV}}
\newcommand{\gev}{\,\mathrm{GeV}}
\newcommand{\tev}{\,\mathrm{TeV}}

% particles
\newcommand{\g}{\mathrm{g}}
\newcommand{\w}{\mathrm{W}}
\newcommand{\z}{\mathrm{Z}}

% custom chapter heading
\titleformat{\chapter}[display]
{\normalfont\bfseries}
{\large\chaptertitlename \, \thechapter}
{1ex}
{\titlerule[1pt]
\vspace{2ex}%
\Huge}

% frontmatters defaults
\author{Leonardo Cerasi%
	\thanks{\scriptsize\href{mailto:leonardo.cerasi@studenti.unimi.it}{leo.cerasi@pm.me}}\\
	\small GitHub repository: \href{https://github.com/LeonardoCerasi/notes}{LeonardoCerasi/notes}}
\date{}
